{
  "query": "CREATE TABLE `documentFolders` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`parentFolderId` varchar(36),\n\t`createdById` varchar(36) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `documentFolders_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `documentVersions` (\n\t`id` varchar(36) NOT NULL,\n\t`documentId` varchar(36) NOT NULL,\n\t`version` int NOT NULL,\n\t`fileKey` varchar(500) NOT NULL,\n\t`fileUrl` text NOT NULL,\n\t`fileSize` int,\n\t`uploadedById` varchar(36) NOT NULL,\n\t`changeNote` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `documentVersions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `documents` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`name` varchar(500) NOT NULL,\n\t`description` text,\n\t`fileKey` varchar(500) NOT NULL,\n\t`fileUrl` text NOT NULL,\n\t`mimeType` varchar(100),\n\t`fileSize` int,\n\t`version` int NOT NULL DEFAULT 1,\n\t`linkedEntityType` enum('contact','account','deal','task'),\n\t`linkedEntityId` varchar(36),\n\t`folderId` varchar(36),\n\t`uploadedById` varchar(36) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `documents_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `document_folders_tenant_idx` ON `documentFolders` (`tenantId`);\nCREATE INDEX `document_folders_parent_idx` ON `documentFolders` (`parentFolderId`);\nCREATE INDEX `document_versions_document_idx` ON `documentVersions` (`documentId`);\nCREATE INDEX `document_versions_version_idx` ON `documentVersions` (`documentId`,`version`);\nCREATE INDEX `documents_tenant_idx` ON `documents` (`tenantId`);\nCREATE INDEX `documents_entity_idx` ON `documents` (`linkedEntityType`,`linkedEntityId`);\nCREATE INDEX `documents_folder_idx` ON `documents` (`folderId`);\nCREATE INDEX `documents_uploader_idx` ON `documents` (`uploadedById`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2QkRhwd4AVTLhHG.a0950ca1ba2f --database TQEsx2HByTQrcAiUBn2kww --execute CREATE TABLE `documentFolders` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`parentFolderId` varchar(36),\n\t`createdById` varchar(36) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `documentFolders_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `documentVersions` (\n\t`id` varchar(36) NOT NULL,\n\t`documentId` varchar(36) NOT NULL,\n\t`version` int NOT NULL,\n\t`fileKey` varchar(500) NOT NULL,\n\t`fileUrl` text NOT NULL,\n\t`fileSize` int,\n\t`uploadedById` varchar(36) NOT NULL,\n\t`changeNote` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `documentVersions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `documents` (\n\t`id` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`name` varchar(500) NOT NULL,\n\t`description` text,\n\t`fileKey` varchar(500) NOT NULL,\n\t`fileUrl` text NOT NULL,\n\t`mimeType` varchar(100),\n\t`fileSize` int,\n\t`version` int NOT NULL DEFAULT 1,\n\t`linkedEntityType` enum('contact','account','deal','task'),\n\t`linkedEntityId` varchar(36),\n\t`folderId` varchar(36),\n\t`uploadedById` varchar(36) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `documents_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `document_folders_tenant_idx` ON `documentFolders` (`tenantId`);\nCREATE INDEX `document_folders_parent_idx` ON `documentFolders` (`parentFolderId`);\nCREATE INDEX `document_versions_document_idx` ON `documentVersions` (`documentId`);\nCREATE INDEX `document_versions_version_idx` ON `documentVersions` (`documentId`,`version`);\nCREATE INDEX `documents_tenant_idx` ON `documents` (`tenantId`);\nCREATE INDEX `documents_entity_idx` ON `documents` (`linkedEntityType`,`linkedEntityId`);\nCREATE INDEX `documents_folder_idx` ON `documents` (`folderId`);\nCREATE INDEX `documents_uploader_idx` ON `documents` (`uploadedById`);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 9123
}