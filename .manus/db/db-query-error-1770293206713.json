{
  "query": "CREATE TABLE `templateAnalytics` (\n\t`id` varchar(36) NOT NULL,\n\t`templateId` varchar(100) NOT NULL,\n\t`installCount` int NOT NULL DEFAULT 0,\n\t`successCount` int NOT NULL DEFAULT 0,\n\t`failureCount` int NOT NULL DEFAULT 0,\n\t`lastInstalledAt` timestamp,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `templateAnalytics_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `templateAnalytics_templateId_unique` UNIQUE(`templateId`)\n);\n\nCREATE TABLE `templateReviews` (\n\t`id` varchar(36) NOT NULL,\n\t`templateId` varchar(100) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`rating` int NOT NULL,\n\t`review` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `templateReviews_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `userTemplates` (\n\t`id` varchar(36) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`name` text NOT NULL,\n\t`description` text,\n\t`category` enum('lead_nurturing','deal_management','task_automation','notifications') NOT NULL,\n\t`triggerType` enum('email_opened','email_replied','no_reply_after_days','meeting_held','stage_entered','deal_value_threshold','scheduled') NOT NULL,\n\t`triggerConfig` json DEFAULT ('{}'),\n\t`actionType` enum('move_stage','send_notification','create_task','enroll_sequence','update_field') NOT NULL,\n\t`actionConfig` json DEFAULT ('{}'),\n\t`conditions` json DEFAULT ('{\"logic\":\"AND\",\"rules\":[]}'),\n\t`priority` int NOT NULL DEFAULT 0,\n\t`isPublic` boolean NOT NULL DEFAULT false,\n\t`baseTemplateId` varchar(100),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `userTemplates_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `template_idx` ON `templateAnalytics` (`templateId`);\nCREATE INDEX `template_idx` ON `templateReviews` (`templateId`);\nCREATE INDEX `user_idx` ON `templateReviews` (`userId`);\nCREATE INDEX `user_idx` ON `userTemplates` (`userId`);\nCREATE INDEX `tenant_idx` ON `userTemplates` (`tenantId`);\nCREATE INDEX `public_idx` ON `userTemplates` (`isPublic`);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2QkRhwd4AVTLhHG.a0950ca1ba2f --database TQEsx2HByTQrcAiUBn2kww --execute CREATE TABLE `templateAnalytics` (\n\t`id` varchar(36) NOT NULL,\n\t`templateId` varchar(100) NOT NULL,\n\t`installCount` int NOT NULL DEFAULT 0,\n\t`successCount` int NOT NULL DEFAULT 0,\n\t`failureCount` int NOT NULL DEFAULT 0,\n\t`lastInstalledAt` timestamp,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `templateAnalytics_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `templateAnalytics_templateId_unique` UNIQUE(`templateId`)\n);\n\nCREATE TABLE `templateReviews` (\n\t`id` varchar(36) NOT NULL,\n\t`templateId` varchar(100) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`rating` int NOT NULL,\n\t`review` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `templateReviews_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `userTemplates` (\n\t`id` varchar(36) NOT NULL,\n\t`userId` varchar(36) NOT NULL,\n\t`tenantId` varchar(36) NOT NULL,\n\t`name` text NOT NULL,\n\t`description` text,\n\t`category` enum('lead_nurturing','deal_management','task_automation','notifications') NOT NULL,\n\t`triggerType` enum('email_opened','email_replied','no_reply_after_days','meeting_held','stage_entered','deal_value_threshold','scheduled') NOT NULL,\n\t`triggerConfig` json DEFAULT ('{}'),\n\t`actionType` enum('move_stage','send_notification','create_task','enroll_sequence','update_field') NOT NULL,\n\t`actionConfig` json DEFAULT ('{}'),\n\t`conditions` json DEFAULT ('{\"logic\":\"AND\",\"rules\":[]}'),\n\t`priority` int NOT NULL DEFAULT 0,\n\t`isPublic` boolean NOT NULL DEFAULT false,\n\t`baseTemplateId` varchar(100),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `userTemplates_id` PRIMARY KEY(`id`)\n);\n\nCREATE INDEX `template_idx` ON `templateAnalytics` (`templateId`);\nCREATE INDEX `template_idx` ON `templateReviews` (`templateId`);\nCREATE INDEX `user_idx` ON `templateReviews` (`userId`);\nCREATE INDEX `user_idx` ON `userTemplates` (`userId`);\nCREATE INDEX `tenant_idx` ON `userTemplates` (`tenantId`);\nCREATE INDEX `public_idx` ON `userTemplates` (`isPublic`);",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 24: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 9 column 36 near \"'{}'),",
    "\t`actionType` enum('move_stage','send_notification','create_task','enroll_sequence','update_field') NOT NULL,",
    "\t`actionConfig` json DEFAULT ('{}'),",
    "\t`conditions` json DEFAULT ('{\"logic\":\"AND\",\"rules\":[]}'),",
    "\t`priority` int NOT NULL DEFAULT 0,",
    "\t`isPublic` boolean NOT NULL DEFAULT false,",
    "\t`baseTemplateId` varchar(100),",
    "\t`createdAt` timestamp NOT NULL DEFAULT (n"
  ]
}