{
  "query": "CREATE TABLE IF NOT EXISTS `automationRules` (\n  `id` varchar(36) PRIMARY KEY,\n  `tenantId` varchar(36) NOT NULL,\n  `name` text NOT NULL,\n  `description` text,\n  `triggerType` enum('email_opened', 'email_replied', 'no_reply_after_days', 'meeting_held', 'stage_entered', 'deal_value_threshold') NOT NULL,\n  `triggerConfig` json DEFAULT ('{}'),\n  `actionType` enum('move_stage', 'send_notification', 'create_task', 'enroll_sequence', 'update_field') NOT NULL,\n  `actionConfig` json DEFAULT ('{}'),\n  `status` enum('active', 'paused') DEFAULT 'active' NOT NULL,\n  `createdAt` timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `updatedAt` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  KEY `tenant_status_idx` (`tenantId`, `status`),\n  KEY `tenant_trigger_idx` (`tenantId`, `triggerType`)\n);\n\nCREATE TABLE IF NOT EXISTS `automationExecutions` (\n  `id` varchar(36) PRIMARY KEY,\n  `tenantId` varchar(36) NOT NULL,\n  `ruleId` varchar(36) NOT NULL,\n  `threadId` varchar(36),\n  `personId` varchar(36),\n  `status` enum('success', 'failed', 'skipped') NOT NULL,\n  `executedAt` timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `errorMessage` text,\n  `metadata` json DEFAULT ('{}'),\n  KEY `tenant_rule_idx` (`tenantId`, `ruleId`),\n  KEY `tenant_thread_idx` (`tenantId`, `threadId`),\n  KEY `tenant_executed_idx` (`tenantId`, `executedAt`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2QkRhwd4AVTLhHG.a0950ca1ba2f --database TQEsx2HByTQrcAiUBn2kww --execute CREATE TABLE IF NOT EXISTS `automationRules` (\n  `id` varchar(36) PRIMARY KEY,\n  `tenantId` varchar(36) NOT NULL,\n  `name` text NOT NULL,\n  `description` text,\n  `triggerType` enum('email_opened', 'email_replied', 'no_reply_after_days', 'meeting_held', 'stage_entered', 'deal_value_threshold') NOT NULL,\n  `triggerConfig` json DEFAULT ('{}'),\n  `actionType` enum('move_stage', 'send_notification', 'create_task', 'enroll_sequence', 'update_field') NOT NULL,\n  `actionConfig` json DEFAULT ('{}'),\n  `status` enum('active', 'paused') DEFAULT 'active' NOT NULL,\n  `createdAt` timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `updatedAt` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  KEY `tenant_status_idx` (`tenantId`, `status`),\n  KEY `tenant_trigger_idx` (`tenantId`, `triggerType`)\n);\n\nCREATE TABLE IF NOT EXISTS `automationExecutions` (\n  `id` varchar(36) PRIMARY KEY,\n  `tenantId` varchar(36) NOT NULL,\n  `ruleId` varchar(36) NOT NULL,\n  `threadId` varchar(36),\n  `personId` varchar(36),\n  `status` enum('success', 'failed', 'skipped') NOT NULL,\n  `executedAt` timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  `errorMessage` text,\n  `metadata` json DEFAULT ('{}'),\n  KEY `tenant_rule_idx` (`tenantId`, `ruleId`),\n  KEY `tenant_thread_idx` (`tenantId`, `threadId`),\n  KEY `tenant_executed_idx` (`tenantId`, `executedAt`)\n);",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 7 column 37 near \"'{}'),",
    "  `actionType` enum('move_stage', 'send_notification', 'create_task', 'enroll_sequence', 'update_field') NOT NULL,",
    "  `actionConfig` json DEFAULT ('{}'),",
    "  `status` enum('active', 'paused') DEFAULT 'active' NOT NULL,",
    "  `createdAt` timestamp DEFAULT CURRENT_TIMESTAMP NOT NULL,",
    "  `updatedAt` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NU"
  ]
}